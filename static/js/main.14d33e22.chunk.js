(this["webpackJsonpinvert-ml"]=this["webpackJsonpinvert-ml"]||[]).push([[0],{108:function(e,t,n){},47:function(e,t,n){e.exports=n(48)},48:function(e,t,n){"use strict";n.r(t),function(e){var t=n(45),a=n(36),l=n(37),r=n(9),c=n(46),u=n(44),o=n(0),s=n.n(o),i=n(38),m=n.n(i),d=n(43),f=n(40),p=n.n(f),h=n(41),E=n.n(h),v=n(42);n(108);function b(e){var t=Object(o.useCallback)(e.onDrop,[]),n=Object(d.a)({onDrop:t}),a=n.getRootProps,l=n.getInputProps,r=n.isDragActive;return s.a.createElement("div",a({className:"dropzone"}),s.a.createElement("input",l()),r?s.a.createElement("p",null,"\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f ..."):s.a.createElement("p",null,"CSV\u30d5\u30a1\u30a4\u30eb\u3092\u30c9\u30ed\u30c3\u30d7\u3002\u3082\u3057\u304f\u306f\u30af\u30ea\u30c3\u30af\u3057\u3066\u9078\u629e\u3002"))}var y=[{name:"\u7d71\u8a08\u78ba\u8a8d",cols:{key:"ML\u30a2\u30c9\u30ec\u30b9",value:"ML\u30e1\u30f3\u30d0\u30fc"}},{name:"ML\u7ba1\u7406",cols:{key:"ML\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9(\u7de8\u96c6\u4e0d\u53ef)",value:"\u30e1\u30f3\u30d0\u30fc"}}];function k(e){if("string"===typeof e.result)return s.a.createElement("div",null,s.a.createElement("h2",{className:"error"},"\u30a8\u30e9\u30fc"),s.a.createElement("div",{className:"error"},s.a.createElement("p",null,e.result)));var t=Array(),n=s.a.createElement(s.a.Fragment,null);if(null===e.result)t.push(s.a.createElement("tr",{key:"0"},s.a.createElement("td",null),s.a.createElement("td",null)));else{var a=[[e.cols.key,e.cols.value]];e.result.forEach((function(e,n){t.push(s.a.createElement("tr",{key:n},s.a.createElement("td",null,n),s.a.createElement("td",null,s.a.createElement("ol",null,e.map((function(e,t){return s.a.createElement("li",{key:t},e)})))))),a.push([n,e.join("\n")])})),n=s.a.createElement(v.CSVLink,{data:a,filename:"inverted.csv"},s.a.createElement("button",{title:"\u7d50\u679c\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"},"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"))}var l=s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,e.cols.key),s.a.createElement("th",null,e.cols.value)));return s.a.createElement("div",null,s.a.createElement("h2",null,"\u7d50\u679c"),s.a.createElement("table",{className:"result"},l,s.a.createElement("tbody",null,t)),n)}function g(e){var t=e.preset_disabled.map((function(t,n){var a,l={id:"btn_preset"+String(n),key:n,disabled:t,onClick:e.onClick,title:t?"\u3059\u3067\u306b\u30bb\u30c3\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\u3002":(a=y[n].cols,'"'+a.key+'"\u3068"'+a.value+'"\u3092\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002')};return s.a.createElement("button",l,"\u30d7\u30ea\u30bb\u30c3\u30c8",n+1,"(",y[n].name,")")}));return s.a.createElement(s.a.Fragment,null,t)}function C(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",null,"\u8a2d\u5b9a"),s.a.createElement("details",{className:"dynamic",open:"string"!==typeof e.result},s.a.createElement("summary",{"data-open":"\u9589\u3058\u308b","data-close":"\u958b\u304f"}),s.a.createElement("table",{className:"config"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("label",{htmlFor:"col_key"},"\u30e1\u30fc\u30ea\u30f3\u30b0\u30ea\u30b9\u30c8\u306e\u30d8\u30c3\u30c0")),s.a.createElement("td",null,s.a.createElement("input",{type:"text",id:"col_key",value:e.cols.key,onChange:e.onChange}))),s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("label",{htmlFor:"col_value"},"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u30d8\u30c3\u30c0")),s.a.createElement("td",null,s.a.createElement("input",{type:"text",id:"col_value",value:e.cols.value,onChange:e.onChange}))))),s.a.createElement(g,{preset_disabled:e.preset_disabled,onClick:e.onButtonClick})))}function _(e,t){return e.key===t.key&&e.value===t.value}var j=function(n){Object(c.a)(i,n);var o=Object(u.a)(i);function i(e){var t;return Object(a.a)(this,i),(t=o.call(this,e)).state={cols:y[0].cols,preset_disabled:y.map((function(e){return _(e.cols,y[0].cols)})),result:null},t.handleChange=t.handleChange.bind(Object(r.a)(t)),t.handleButtonClick=t.handleButtonClick.bind(Object(r.a)(t)),t}return Object(l.a)(i,[{key:"handleDrop",value:function(t){var n=this,a=t[0],l=new FileReader;l.onabort=function(){return alert("file reading was aborted")},l.onerror=function(){return alert("file reading has failed")},l.onload=function(){if(l.result instanceof ArrayBuffer){var t=l.result,a=p.a.decode(e.from(t),"windows-31j"),r=[],c=[],u=E()({delimiter:",",skip_empty_lines:!0});u.on("readable",(function(){for(var e;Boolean(e=u.read());)0===r.length?r=e:c.push(e)})),u.on("error",(function(e){n.setState({result:"CSV\u306e\u30d1\u30fc\u30b9\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002"+e.message})})),u.on("end",(function(){var e=n.state.cols.key,t=n.state.cols.value,a=r.findIndex((function(t){return t===e}));if(-1!==a){var l=r.findIndex((function(e){return e===t}));if(-1!==l){var u=function(e,t){var n=new Set(t.reduce((function(e,t){return e.concat(t)}),[])),a=Array.from(n).sort(),l=new Map(a.map((function(e){return[e,[]]})));return e.map((function(e,n){return t[n].map((function(t){return l.get(t).push(e)}))})),l}(c.map((function(e){return e[a]})),c.map((function(e){return e[l].split("\n").filter((function(e){return e.length>0}))})));n.setState({result:u})}else n.setState({result:"["+t+"]\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u30d8\u30c3\u30c0\u306f\u6b21\u306e\u4e2d\u304b\u3089\u9078\u3076\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002{"+r.join(", ")+"}"})}else n.setState({result:"["+e+"]\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u30d8\u30c3\u30c0\u306f\u6b21\u306e\u4e2d\u304b\u3089\u9078\u3076\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002{"+r.join(", ")+"}"})})),u.write(a),u.end()}else n.setState({result:"Something went wrong with FileReader"})},l.readAsArrayBuffer(a)}},{key:"handleChange",value:function(e){var n=e.target,a=n.id,l=n.value,r=Object(t.a)({},this.state.cols);"col_key"===a&&(r.key=l),"col_value"===a&&(r.value=l),this.setState({cols:r,preset_disabled:y.map((function(e){return _(e.cols,y[0].cols)}))})}},{key:"handleButtonClick",value:function(e){var t=e.currentTarget.id,n=parseInt(t.replace("btn_preset","")),a=Array(y.length).fill(!1);a[n]=!0,this.setState({cols:y[n].cols,preset_disabled:a})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container"},s.a.createElement(b,{onDrop:function(t){return e.handleDrop(t)}}),s.a.createElement(k,{result:this.state.result,cols:this.state.cols}),s.a.createElement(C,{result:this.state.result,cols:this.state.cols,onChange:this.handleChange,preset_disabled:this.state.preset_disabled,onButtonClick:this.handleButtonClick}))}}]),i}(s.a.Component);m.a.render(s.a.createElement(j,null),document.getElementById("root"))}.call(this,n(2).Buffer)},74:function(e,t){},75:function(e,t){},95:function(e,t){},97:function(e,t){}},[[47,1,2]]]);
//# sourceMappingURL=main.14d33e22.chunk.js.map