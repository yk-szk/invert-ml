(this["webpackJsonpinvert-ml"]=this["webpackJsonpinvert-ml"]||[]).push([[0],{102:function(e,t,n){},44:function(e,t,n){e.exports=n(45)},45:function(e,t,n){"use strict";n.r(t),function(e){var t=n(34),a=n(35),l=n(36),r=n(10),o=n(43),c=n(42),u=n(0),i=n.n(u),s=n(37),m=n.n(s),d=n(41),f=n(39),h=n.n(f),p=n(40),E=n.n(p);n(102);function v(e){var t=Object(u.useCallback)(e.onDrop,[]),n=Object(d.a)({onDrop:t}),a=n.getRootProps,l=n.getInputProps,r=n.isDragActive;return i.a.createElement("div",a({className:"dropzone"}),i.a.createElement("input",l()),r?i.a.createElement("p",null,"\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f ..."):i.a.createElement("p",null,"CSV\u30d5\u30a1\u30a4\u30eb\u3092\u30c9\u30ed\u30c3\u30d7\u3002\u3082\u3057\u304f\u306f\u30af\u30ea\u30c3\u30af\u3057\u3066\u9078\u629e\u3002"))}var y=function(n){Object(o.a)(s,n);var u=Object(c.a)(s);function s(e){var t;return Object(a.a)(this,s),(t=u.call(this,e)).state={col_key:"ML\u30a2\u30c9\u30ec\u30b9",col_value:"ML\u30e1\u30f3\u30d0\u30fc",rows:new Map([["",[""]]])},t.handleChange=t.handleChange.bind(Object(r.a)(t)),t}return Object(l.a)(s,[{key:"handleDrop",value:function(t){var n=this,a=t[0],l=new FileReader;l.onabort=function(){return alert("file reading was aborted")},l.onerror=function(){return alert("file reading has failed")},l.onload=function(){if(l.result instanceof ArrayBuffer){var t=l.result,a=h.a.decode(e.from(t),"windows-31j"),r=[],o=[],c=E()({delimiter:",",skip_empty_lines:!0});c.on("readable",(function(){for(var e;Boolean(e=c.read());)0===r.length?r=e:o.push(e)})),c.on("error",(function(e){alert(e.message)})),c.on("end",(function(){console.log(r);var e=n.state.col_key,t=n.state.col_value,a=r.findIndex((function(t){return t===e}));if(-1!==a){var l=r.findIndex((function(e){return e===t}));if(-1!==l){var c=function(e,t){var n=new Set(t.reduce((function(e,t){return e.concat(t)}),[])),a=Array.from(n).sort(),l=new Map(a.map((function(e){return[e,[]]})));return e.map((function(e,n){return t[n].map((function(t){return l.get(t).push(e)}))})),l}(o.map((function(e){return e[a]})),o.map((function(e){return e[l].split("\n").filter((function(e){return e.length>0}))})));n.setState({rows:c})}else alert("Could not find column "+t)}else alert("Could not find column "+e)})),c.write(a),c.end()}else alert("Something went wrong with FileReader")},l.readAsArrayBuffer(a)}},{key:"handleChange",value:function(e){var n=e.target,a=n.id,l=n.value;this.setState(Object(t.a)({},a,l))}},{key:"render",value:function(){var e=this,t=Array();this.state.rows.forEach((function(e,n){t.push(i.a.createElement("tr",{key:n},i.a.createElement("td",null,n),i.a.createElement("td",null,i.a.createElement("ol",null,e.map((function(e,t){return i.a.createElement("li",{key:t},e)}))))))}));var n=i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,this.state.col_value),i.a.createElement("th",null,this.state.col_key)));return i.a.createElement("div",{className:"container"},i.a.createElement(v,{onDrop:function(t){return e.handleDrop(t)}}),i.a.createElement("h2",null,"\u7d50\u679c"),i.a.createElement("table",{className:"result"},n,i.a.createElement("tbody",null,t)),i.a.createElement("h2",null,"\u8a2d\u5b9a"),i.a.createElement("details",{className:"dynamic"},i.a.createElement("summary",{"data-open":"\u9589\u3058\u308b","data-close":"\u958b\u304f"}),i.a.createElement("table",{className:"config"},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("label",{htmlFor:"col_key"},"\u30e1\u30fc\u30ea\u30f3\u30b0\u30ea\u30b9\u30c8\u306e\u30d8\u30c3\u30c0")),i.a.createElement("td",null,i.a.createElement("input",{type:"text",title:"\u30e1\u30fc\u30ea\u30f3\u30b0\u30ea\u30b9\u30c8\u306e\u30d8\u30c3\u30c0",id:"col_key",value:this.state.col_key,onChange:this.handleChange}))),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("label",{htmlFor:"col_value"},"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u30d8\u30c3\u30c0")),i.a.createElement("td",null,i.a.createElement("input",{type:"text",title:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u30d8\u30c3\u30c0",id:"col_value",value:this.state.col_value,onChange:this.handleChange})))))))}}]),s}(i.a.Component);m.a.render(i.a.createElement(y,null),document.getElementById("root"))}.call(this,n(2).Buffer)},71:function(e,t){},72:function(e,t){},92:function(e,t){},94:function(e,t){}},[[44,1,2]]]);
//# sourceMappingURL=main.3ca373a8.chunk.js.map